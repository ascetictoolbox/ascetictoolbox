\documentclass[twoside,a4,english,11pt]{book}

\usepackage[pdfborder={0 0 0}]{hyperref}
\usepackage{fontenc}
\usepackage[latin9]{inputenc}
\usepackage{url}
\usepackage{epsfig} % permet posar figures amb format .eps
\usepackage{subfigure} % permet fer subfigures
\usepackage{setspace} % permet canviar l'espai interlinial
\usepackage{tocbibind} % posa la bibliografia a la TOC
\usepackage{a4wide}
\usepackage{fullpage}
\usepackage{verbatim}
\usepackage{color,calc}
\usepackage{pdflscape}
\usepackage{fancyvrb}
\usepackage{amsfonts}
\usepackage{multirow}
\usepackage[table]{xcolor}

\definecolor{lightgray}{rgb}{0.75,0.75,0.75}
\definecolor{tabbg1}{rgb}{0.85,0.85,0.85}
\definecolor{tabfg1}{rgb}{0.0,0.0,0.0}
\definecolor{tabbg2}{rgb}{0.95,0.95,0.95}
\definecolor{tabfg2}{rgb}{0.0,0.0,0.0}

\def\graybox#1{
  \medskip
  \colorbox{lightgray}{
    \begin{minipage}[t]{0.95\textwidth}
    #1
    \end{minipage}
   }
}

\urlstyle{leostyle}

\makeatletter
\def\url@leostyle{
  \@ifundefined{selectfont}{\def\UrlFont{\sf}}{\def\UrlFont{\small\ttfamily}}}
\usepackage{babel}
\makeatother

% \setcounter{tocdepth}{0} % Canviar el deepness de la table of contents
\pagestyle{plain}

% DEFINITIONS!
% DEFINITIONS!
% DEFINITIONS!

\newcommand{\TRACE}{{\sf {E}xtrae}\ }
\newcommand{\PARAVER}{{\sf Paraver}\ }
\input{version}

% DOCUMENT!
% DOCUMENT!
% DOCUMENT!


\begin{document}

\pagenumbering{roman}

% \onehalfspacing
% \doublespacing

\title{\TRACE \\
       User guide manual\\
       for version \TRACEVERSION}
\author{
tools@bsc.es
}

\maketitle
\tableofcontents
\listoffigures
\listoftables

\input{common-macros}

\input{quick-guide-section}

\chapter{Introduction}\label{cha:Introduction}


\TRACE is a dynamic instrumentation package to trace programs compiled and run with the shared memory model (like OpenMP and pthreads), the message passing (MPI) programming model or both programming models (different MPI processes using OpenMP or pthreads within each MPI process). \TRACE generates trace files that can be visualized with \PARAVER.

\TRACE is currently available on different platforms and operating systems: IBM PowerPC running Linux or AIX, and x86 and x86-64 running Linux. It also has been ported to OpenSolaris and FreeBSD.

The combined use of \TRACE and \PARAVER offers an enormous analysis potential, both qualitative and quantitative. With these tools the actual performance bottlenecks of parallel applications can be identified. The microscopic view of the program behavior that the tools provide is very useful to optimize the parallel program performance.

This document tries to give the basic knowledge to use the \TRACE tool. Chapter \ref{cha:Configuration} explains how the package can be configured and installed. Chapter \ref{cha:Examples} explains how to monitor an application to obtain its trace file. At the end of this document there are appendices that include: a Frequent Asked Questions appendix and a list of routines instrumented in the package.

\subsection*{What is the \PARAVER tool?}

\PARAVER is a flexible parallel program visualization and analysis tool based on an easy-to-use Motif GUI. \PARAVER was developed responding to the need of hacing a qualitative global perception of the application behavior by visual inspection and then to be able to focus on the detailed quantitative analysis of the problems. \PARAVER provides a large amount of information useful to decide the points on which to invest the programming effort to optimize an application.

Expressive power, flexibility and the capability of efficiently handling large traces are key features addressed in the design of \PARAVER. The clear and modular structure of \PARAVER plays a significant role towers achieving these targets.

Some \PARAVER features are the support for:
\begin{itemize}
\item Detailed quantitative analysis of program performance,
\item concurrent comparative analysis of several traces,
\item fast analysis of very large traces,
\item support for mixed message passing and shared memory (network of SMPs), and,
\item customizable semantics of the visualized information.
\end{itemize}

One of the main features of \PARAVER is the flexibility to represent traces coming from different environments. Traces are composed of state records, events and communications with associated timestamp. These three elements can be used to build traces that capture the behavior along time of very different kind of systems. The \PARAVER distribution includes, either in its own distribution or as additional packages, the following instrumentation modules:
\begin{enumerate}
\item  Sequential application tracing: it is included in the \PARAVER distribution. It can be used to trace the value of certain variables, procedure invocations, ... in a sequential program.
\item Parallel application tracing: a set of modules are optionally available to capture the activity of parallel applications using shared-memory, message-passing paradigms, or a combination of them.
\item System activity tracing in a multiprogrammed environment: an application to trace processor allocations and process migrations is optionally available in the \PARAVER distribution.
\item Hardware counters tracing: an application to trace the hardware counter values is optionally available in the \PARAVER distribution.
\end{enumerate}

\subsection*{Where the \PARAVER tool can be found?}

The \PARAVER distribution can be found at URL:

\url{http://www.bsc.es/paraver}

\PARAVER binaries are available for Linux/x86, Linux/x86-64 and Linux/ia64, Windows.

In the Documentation Tool section of the aforementioned URL you can find the {\em \PARAVER Reference Manual} and {\em \PARAVER Tutorial} in addition to the documentation for other instrumentation packages.

\TRACE and \PARAVER tools e-mail support is {\bf tools@bsc.es}.

\input{configure-installation}
\input{XML-section}
\input{API-section}
\input{merge-section}
\input{online}
\input{examples-section}

\appendix

\input{wholeXML-section}
\input{environmentvariables-section}
\input{pnmpi-section}
\input{regression-tests}
\input{overhead}
\input{FAQ-section}
\input{submit-bug}
\input{instrumented-routines-section}

\end{document}

